(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{8373:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/VerifyEmail",function(){return n(1565)}])},1565:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var s=n(5893),i=n(6660),r=n(5059),a=(0,i.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});a.displayName="Center";var l={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};(0,r.G)(function(e,t){let{axis:n="both",...r}=e;return(0,s.jsx)(i.m.div,{ref:t,__css:l[n],...r,position:"absolute"})});var o=n(4418),u=n(204),d=n(6684),c=n(8267),h=n(8129),m=n(8855),f=(0,r.G)((e,t)=>(0,s.jsx)(d.K,{align:"center",...e,direction:"row",ref:t}));f.displayName="HStack";var x=n(3614),p=n(1942),g=n(5432),b=n(5227),v=n(1103),N=n(7294),[j,I,y,_]=(0,x.n)(),[C,S]=(0,b.k)({name:"PinInputContext",errorMessage:"usePinInputContext: `context` is undefined. Seems you forgot to all pin input fields within `<PinInput />`"}),E=e=>null==e?void 0:e.split("");function O(e,t){return("alphanumeric"===t?/^[a-zA-Z0-9]+$/i:/^[0-9]+$/).test(e)}var w=n(1639),k=n(3179),T=n(2495);function P(e){let t=(0,w.mq)("PinInput",e),{children:n,...i}=(0,k.Lr)(e),{descendants:r,...a}=function(e={}){let{autoFocus:t,value:n,defaultValue:s,onChange:i,onComplete:r,placeholder:a="â—‹",manageFocus:l=!0,otp:o=!1,id:u,isDisabled:d,isInvalid:c,type:h="number",mask:m}=e,f=(0,N.useId)(),x=null!=u?u:`pin-input-${f}`,b=y(),[v,j]=(0,N.useState)(!0),[I,_]=(0,N.useState)(-1),[C,S]=(0,p.T)({defaultValue:E(s)||[],value:E(n),onChange:e=>null==i?void 0:i(e.join(""))});(0,N.useEffect)(()=>{if(t){let e=b.first();e&&requestAnimationFrame(()=>{e.node.focus()})}},[b]);let w=(0,N.useCallback)(e=>{if(!v||!l)return;let t=b.next(e,!1);t&&requestAnimationFrame(()=>{t.node.focus()})},[b,v,l]),k=(0,N.useCallback)((e,t,n=!0)=>{let s=[...C];s[t]=e,S(s);let i=""!==e&&s.length===b.count()&&s.every(e=>null!=e&&""!==e);i?null==r||r(s.join("")):n&&w(t)},[C,S,w,r,b]),T=(0,N.useCallback)(()=>{var e;let t=Array(b.count()).fill("");S(t);let n=b.first();null==(e=null==n?void 0:n.node)||e.focus()},[b,S]),P=(0,N.useCallback)((e,t)=>{let n=t;return(null==e?void 0:e.length)>0&&(e[0]===t.charAt(0)?n=t.charAt(1):e[0]===t.charAt(1)&&(n=t.charAt(0))),n},[]),D=(0,N.useCallback)(e=>{let{index:t,...n}=e,s=e=>{let n=e.target.value,s=C[t],i=P(s,n);if(""===i){k("",t);return}if(n.length>2){if(O(n,h)){let a=n.split("").filter((e,t)=>t<b.count());S(a),a.length===b.count()&&(null==r||r(a.join("")))}}else O(i,h)&&k(i,t),j(!0)},i=e=>{var n;if("Backspace"===e.key&&l){if(""===e.target.value){let s=b.prev(t,!1);s&&(k("",t-1,!1),null==(n=s.node)||n.focus(),j(!0))}else j(!1)}},u=()=>{_(t)},f=()=>{_(-1)};return{"aria-label":"Please enter your pin code",inputMode:"number"===h?"numeric":"text",type:m?"password":"number"===h?"tel":"text",...n,id:`${x}-${t}`,disabled:d,"aria-invalid":(0,g.Qm)(c),onChange:(0,g.v0)(n.onChange,s),onKeyDown:(0,g.v0)(n.onKeyDown,i),onFocus:(0,g.v0)(n.onFocus,u),onBlur:(0,g.v0)(n.onBlur,f),value:C[t]||"",autoComplete:o?"one-time-code":"off",placeholder:I===t?"":a}},[b,I,P,x,d,m,c,l,r,o,a,k,S,h,C]);return{getInputProps:D,id:x,descendants:b,values:C,setValue:k,setValues:S,clear:T}}(i),l=(0,T.W)(n).map(e=>(0,N.cloneElement)(e,{__css:t}));return(0,s.jsx)(j,{value:r,children:(0,s.jsx)(C,{value:a,children:l})})}P.displayName="PinInput";var D=(0,r.G)(function(e,t){let n=function(e={},t=null){let{getInputProps:n}=S(),{index:s,register:i}=_();return n({...e,ref:(0,v.lq)(i,t),index:s})}(e,t);return(0,s.jsx)(i.m.input,{...n,className:(0,g.cx)("chakra-pin-input",e.className)})});D.displayName="PinInputField";var z=n(8945),A=n(1163);function M(){let[e,t]=(0,N.useState)(),[n,i]=(0,N.useState)(),[r,l]=(0,N.useState)(""),[x,p]=(0,N.useState)(""),[g,b]=(0,N.useState)(""),[v,j]=(0,N.useState)(""),[I,y]=(0,N.useState)(""),[_,C]=(0,N.useState)(""),S=(0,A.useRouter)();(0,N.useEffect)(()=>{p(localStorage.getItem("email")||"")},[]);let E=async()=>{let e=localStorage.getItem("email"),n=g+v+I+_;console.log(n),await (0,z.Z)({url:"/back/users/verifCode",method:"post",data:{email:e,code:n}}).then(e=>{t(e.data.message),l(e.data.status)})},O=async()=>{let e=localStorage.getItem("email");await (0,z.Z)({url:"/back/users/changePassword",method:"patch",data:{email:e,password:n}}).then(e=>{"success"==e.data.status&&S.push("/admin")})};return(0,s.jsx)(s.Fragment,{children:"success"==r?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(u.k,{minH:"100vh",align:"center",justify:"center",children:(0,s.jsxs)(d.K,{spacing:4,w:"full",maxW:"sm",rounded:"xl",boxShadow:"lg",p:6,my:10,children:[(0,s.jsx)(a,{children:(0,s.jsx)(o.X,{lineHeight:1.1,fontSize:{base:"2xl",md:"3xl"},children:"Changer le mot de passe"})}),(0,s.jsx)(a,{fontSize:{base:"sm",sm:"md"},children:"Nouveau mot de passe pour cet e-mail"}),(0,s.jsx)(a,{fontSize:{base:"sm",sm:"md"},fontWeight:"bold",children:x}),(0,s.jsx)(c.NI,{children:(0,s.jsx)(a,{children:(0,s.jsx)(c.NI,{id:"newpassword",children:(0,s.jsx)(h.I,{onChange:e=>i(e.target.value),_placeholder:{color:"gray.500"},type:"password"})})})}),(0,s.jsx)(d.K,{spacing:6,children:(0,s.jsx)(m.z,{bg:"blue.400",color:"white",_hover:{bg:"blue.500"},onClick:()=>O(),children:"Changer le mot de passe"})})]})})}):(0,s.jsx)(u.k,{minH:"100vh",align:"center",justify:"center",children:(0,s.jsxs)(d.K,{spacing:4,w:"full",maxW:"sm",rounded:"xl",boxShadow:"lg",p:6,my:10,children:[(0,s.jsx)(a,{children:(0,s.jsx)(o.X,{lineHeight:1.1,fontSize:{base:"2xl",md:"3xl"},children:"V\xe9rifiez votre e-mail"})}),(0,s.jsx)(a,{fontSize:{base:"sm",sm:"md"},children:"Nous avons envoy\xe9 le code \xe0 votre adresse Email"}),(0,s.jsx)(a,{fontSize:{base:"sm",sm:"md"},fontWeight:"bold",children:x}),(0,s.jsx)(c.NI,{children:(0,s.jsx)(a,{children:(0,s.jsx)(f,{children:(0,s.jsxs)(P,{children:[(0,s.jsx)(D,{onChange:e=>b(e.target.value)}),(0,s.jsx)(D,{onChange:e=>j(e.target.value)}),(0,s.jsx)(D,{onChange:e=>y(e.target.value)}),(0,s.jsx)(D,{onChange:e=>C(e.target.value)})]})})})}),(0,s.jsx)(d.K,{spacing:6,children:(0,s.jsx)(m.z,{bg:"blue.400",color:"white",_hover:{bg:"blue.500"},onClick:()=>E(),children:"V\xe9rifier"})})]})})})}},1163:function(e,t,n){e.exports=n(880)},8855:function(e,t,n){"use strict";n.d(t,{z:function(){return p}});var s=n(7294),[i,r]=(0,n(5227).k)({strict:!1,name:"ButtonGroupContext"}),a=n(6660),l=n(5432),o=n(5893);function u(e){let{children:t,className:n,...i}=e,r=(0,s.isValidElement)(t)?(0,s.cloneElement)(t,{"aria-hidden":!0,focusable:!1}):t,u=(0,l.cx)("chakra-button__icon",n);return(0,o.jsx)(a.m.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...i,className:u,children:r})}u.displayName="ButtonIcon";var d=n(295);function c(e){let{label:t,placement:n,spacing:i="0.5rem",children:r=(0,o.jsx)(d.$,{color:"currentColor",width:"1em",height:"1em"}),className:u,__css:c,...h}=e,m=(0,l.cx)("chakra-button__spinner",u),f="start"===n?"marginEnd":"marginStart",x=(0,s.useMemo)(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[f]:t?i:0,fontSize:"1em",lineHeight:"normal",...c}),[c,t,f,i]);return(0,o.jsx)(a.m.div,{className:m,...h,__css:x,children:r})}c.displayName="ButtonSpinner";var h=n(1103),m=n(5059),f=n(1639),x=n(3179),p=(0,m.G)((e,t)=>{let n=r(),i=(0,f.mq)("Button",{...n,...e}),{isDisabled:u=null==n?void 0:n.isDisabled,isLoading:d,isActive:m,children:p,leftIcon:b,rightIcon:v,loadingText:N,iconSpacing:j="0.5rem",type:I,spinner:y,spinnerPlacement:_="start",className:C,as:S,...E}=(0,x.Lr)(e),O=(0,s.useMemo)(()=>{let e={...null==i?void 0:i._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...i,...!!n&&{_focus:e}}},[i,n]),{ref:w,type:k}=function(e){let[t,n]=(0,s.useState)(!e),i=(0,s.useCallback)(e=>{e&&n("BUTTON"===e.tagName)},[]);return{ref:i,type:t?"button":void 0}}(S),T={rightIcon:v,leftIcon:b,iconSpacing:j,children:p};return(0,o.jsxs)(a.m.button,{disabled:u||d,ref:(0,h.qq)(t,w),as:S,type:null!=I?I:k,"data-active":(0,l.PB)(m),"data-loading":(0,l.PB)(d),__css:O,className:(0,l.cx)("chakra-button",C),...E,children:[d&&"start"===_&&(0,o.jsx)(c,{className:"chakra-button__spinner--start",label:N,placement:"start",spacing:j,children:y}),d?N||(0,o.jsx)(a.m.span,{opacity:0,children:(0,o.jsx)(g,{...T})}):(0,o.jsx)(g,{...T}),d&&"end"===_&&(0,o.jsx)(c,{className:"chakra-button__spinner--end",label:N,placement:"end",spacing:j,children:y})]})});function g(e){let{leftIcon:t,rightIcon:n,children:s,iconSpacing:i}=e;return(0,o.jsxs)(o.Fragment,{children:[t&&(0,o.jsx)(u,{marginEnd:i,children:t}),s,n&&(0,o.jsx)(u,{marginStart:i,children:n})]})}p.displayName="Button"},3614:function(e,t,n){"use strict";n.d(t,{n:function(){return b}});var s=n(7294),i=Object.defineProperty,r=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a=(e,t,n)=>(r(e,"symbol"!=typeof t?t+"":t,n),n);function l(e){return e.sort((e,t)=>{let n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY)return -1;if(n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(!(n&Node.DOCUMENT_POSITION_DISCONNECTED)&&!(n&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC))return 0;throw Error("Cannot sort the given nodes.")})}var o=e=>"object"==typeof e&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function u(e,t,n){let s=e+1;return n&&s>=t&&(s=0),s}function d(e,t,n){let s=e-1;return n&&s<0&&(s=t),s}var c="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,h=e=>e,m=class{constructor(){a(this,"descendants",new Map),a(this,"register",e=>{if(null!=e)return o(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),a(this,"unregister",e=>{this.descendants.delete(e);let t=l(Array.from(this.descendants.keys()));this.assignIndex(t)}),a(this,"destroy",()=>{this.descendants.clear()}),a(this,"assignIndex",e=>{this.descendants.forEach(t=>{let n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})}),a(this,"count",()=>this.descendants.size),a(this,"enabledCount",()=>this.enabledValues().length),a(this,"values",()=>{let e=Array.from(this.descendants.values());return e.sort((e,t)=>e.index-t.index)}),a(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),a(this,"item",e=>{if(0!==this.count())return this.values()[e]}),a(this,"enabledItem",e=>{if(0!==this.enabledCount())return this.enabledValues()[e]}),a(this,"first",()=>this.item(0)),a(this,"firstEnabled",()=>this.enabledItem(0)),a(this,"last",()=>this.item(this.descendants.size-1)),a(this,"lastEnabled",()=>{let e=this.enabledValues().length-1;return this.enabledItem(e)}),a(this,"indexOf",e=>{var t,n;return e&&null!=(n=null==(t=this.descendants.get(e))?void 0:t.index)?n:-1}),a(this,"enabledIndexOf",e=>null==e?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),a(this,"next",(e,t=!0)=>{let n=u(e,this.count(),t);return this.item(n)}),a(this,"nextEnabled",(e,t=!0)=>{let n=this.item(e);if(!n)return;let s=this.enabledIndexOf(n.node),i=u(s,this.enabledCount(),t);return this.enabledItem(i)}),a(this,"prev",(e,t=!0)=>{let n=d(e,this.count()-1,t);return this.item(n)}),a(this,"prevEnabled",(e,t=!0)=>{let n=this.item(e);if(!n)return;let s=this.enabledIndexOf(n.node),i=d(s,this.enabledCount()-1,t);return this.enabledItem(i)}),a(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;let n=Array.from(this.descendants.keys()).concat(e),s=l(n);(null==t?void 0:t.disabled)&&(t.disabled=!!t.disabled);let i={node:e,index:-1,...t};this.descendants.set(e,i),this.assignIndex(s)})}},f=n(5227),x=n(1103),[p,g]=(0,f.k)({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function b(){let e=h(p),t=()=>h(g()),n=e=>(function(e){let t=g(),[n,i]=(0,s.useState)(-1),r=(0,s.useRef)(null);c(()=>()=>{r.current&&t.unregister(r.current)},[]),c(()=>{if(!r.current)return;let e=Number(r.current.dataset.index);n==e||Number.isNaN(e)||i(e)});let a=e?h(t.register(e)):h(t.register);return{descendants:t,index:n,enabledIndex:t.enabledIndexOf(r.current),register:(0,x.lq)(a,r)}})(e),i=()=>(function(){let e=(0,s.useRef)(new m);return c(()=>()=>e.current.destroy()),e.current})();return[e,t,i,n]}},4418:function(e,t,n){"use strict";n.d(t,{X:function(){return u}});var s=n(5059),i=n(1639),r=n(3179),a=n(6660),l=n(5432),o=n(5893),u=(0,s.G)(function(e,t){let n=(0,i.mq)("Heading",e),{className:s,...u}=(0,r.Lr)(e);return(0,o.jsx)(a.m.h2,{ref:t,className:(0,l.cx)("chakra-heading",e.className),...u,__css:n})});u.displayName="Heading"},1942:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var s=n(7294),i=n(5155);function r(e){let{value:t,defaultValue:n,onChange:r,shouldUpdate:a=(e,t)=>e!==t}=e,l=(0,i.W)(r),o=(0,i.W)(a),[u,d]=(0,s.useState)(n),c=void 0!==t,h=c?t:u,m=(0,i.W)(e=>{let t="function"==typeof e?e(h):e;o(h,t)&&(c||d(t),l(t))},[c,l,h,o]);return[h,m]}}},function(e){e.O(0,[292,774,888,179],function(){return e(e.s=8373)}),_N_E=e.O()}]);